<html xmlns:n="http://nevow.com/ns/nevow/0.1">
  <head>
    <title>AllMyData - Tahoe - Storage Server Status</title>
    <link href="/webform_css" rel="stylesheet" type="text/css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
<body>

<div n:render="storage_running">

  <h1>Storage Server Status</h1>

  <table n:data="stats">
    <tr><td>Total disk space:</td>
        <td><span n:render="space" n:data="disk_total" /></td></tr>
    <tr><td>Disk space used:</td>
        <td>- <span n:render="space" n:data="disk_used" /></td></tr>
    <tr><td />
        <td>======</td></tr>
    <tr><td>Disk space free (root):</td>
        <td><span n:render="space" n:data="disk_free_for_root"/>
          [see 1]</td></tr>
    <tr><td>Disk space free (non-root):</td>
        <td><span n:render="space" n:data="disk_free_for_nonroot" />
          [see 2]</td></tr>
    <tr><td>Reserved space:</td>
        <td>- <span n:render="space" n:data="reserved_space" /></td></tr>
    <tr><td />
        <td>======</td></tr>
    <tr><td>Space Available to Tahoe:</td>
        <td><span n:render="space" n:data="disk_avail" /></td></tr>
  </table>

  <ul n:data="stats">
    <li>Accepting new shares:
       <span n:render="bool" n:data="accepting_immutable_shares" /></li>
  </ul>

  <ul>
    <li>Total buckets:
       <span n:render="string" n:data="last_complete_bucket_count" />
       (the number of files and directories for which this server is holding
        a share)
      <ul>
        <li n:render="count_crawler_status" />
      </ul>
    </li>
  </ul>

  <p>[1]: Some of this space may be reserved for the superuser.</p>
  <p>[2]: This reports the space available to non-root users, including the
  Tahoe node.</p>

</div>

</body>
</html>
